<!DOCTYPE html>
<html>
    <head>
        <%- include('public/head'); -%>
        <style>
            input[type=number]::-webkit-inner-spin-button,
            input[type=number]::-webkit-outer-spin-button{ 
                -webkit-appearance: none; 
                margin: 0; 
            }
            input{
                box-sizing: border-box;
            }

            span.hint{
                position: relative;
                color: #757575;
                font-size: 15px;
                display: block;
                line-height:15px;
            }
            div.item{
                margin: 0;
                padding: 0;
                margin-bottom: 0.5em;
            }
        </style>
    </head>

    <body>
        <div class = "container">
            <%- include('public/header'); -%>

            <%- include('public/navbar'); -%>

            <div class = "content">                
                <form class = "form" enctype="multipart/form-data" action = "/product/add" method = "post">
                    <h1><i class="fa fa-plus-square" aria-hidden="true"></i>新增商品</h1>
                    <div class = "inline-block">

                        <div class = "left">
                            <div id="gallery"></div>
                            <span class="value"><input type="file" name="picture" id = "fileinput" accept = "image/*" style = "display: none;" /></span>
                            <input type="button" class="button" style = "width:150px; margin: 0.5em 0 0 125px;" value = "選擇圖片" onclick = "document.getElementById('fileinput').click();" />
                        </div>
                        
                        <div class = "right">
                            <div class = "item">   
                                <span class="value"><input type="text" name="proname" placeholder="請輸入商品名稱" style="font-size: 30px; height: 45px;;width: 250px;" required></span>
                            </div>

                            <div class = "item">          
                                <span class="name">單價: </span>
                                <span class="value"><input type="number" name="price" placeholder="" style = "width: 50px" required></span>
                                <br/>
                                <span class="hint" style = "left: 40px;">(請輸入價格)</span>
                            </div>

                            <div class = "item">          
                                <span class="name">數量: </span>
                                <span class="value"><input type="number" name="amt" placeholder="" style = "width: 50px" required></span>
                                <br/>
                                <span class="hint" style = "left: 40px;">(請輸入數量)</span>
                            </div>

                            <div class = "item">                     
                                <span class="name">標籤: </span>
                                <span class="value">
                                    <select id="e1" multiple name="lblno">
                                        <% for(var i=0; i<result.label.length; i++) {%>
                                            <option value="<%= result.label[i].lblno %>"><%= result.label[i].lblname %></option>
                                        <% } %>
                                    </select>
                                </span>
                            </div>

                            <div class = "item">
                                <span class="name" style = "vertical-align: top">商品介紹: </span>
                                <span class="value"><textarea name="description" placeholder="請輸入文字" textarea cols="40" rows="7" maxlength="255" style = "margin-top: 2px; resize: none; font-size: 16px;"></textarea></span>
                                <br/>
                                <span class="hint" style = "left: 72px;">(最大字數限制為255個字)</span>
                            </div>
                        </div>
                    </div>

                    <div class="division-line"></div>

                    <span class="name"></span>
                    <span class="value"><input class="button" style="float:right" type="submit" value="新增" ></span>    
                    
                </form>  
            </div>

            <%- include('public/footer'); -%>
        </div>
    </body>

    <script src = "http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    
    <script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.8/vue.min.js'></script>

    <script src="/js/select2.full.min.js"></script>

    <script src="/js/ejs.min.js"></script>

    <script>
        $("#e1").select2();
    </script>
    
    <script>
        $("div.form").css("width", $("form.form").css("width"));
    </script>
    <script src = "/js/preview_image.js"></script>

</html>
